---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "talos_machine_configuration Data Source - talos"
subcategory: ""
description: |-
  Generate a machine configuration for a node.
---

# talos_machine_configuration (Data Source)

Generate a machine configuration for a node.

## Example Usage

```terraform
resource "talos_machine_secrets" "this" {}

data "talos_machine_configuration" "this" {
  cluster_name     = "example-cluster"
  type             = "controlplane"
  cluster_endpoint = "https://cluster.local:6443"
  machine_secrets  = talos_machine_secrets.this.machine_secrets
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_endpoint` (String) The endpoint of the talos kubernetes cluster
- `cluster_name` (String) The name of the talos kubernetes cluster
- `machine_secrets` (Attributes) The secrets for the talos kubernetes cluster (see [below for nested schema](#nestedatt--machine_secrets))
- `type` (String) The type of machine to generate talos configuration for

### Optional

- `config_patches` (Dynamic) The patches to apply to the generated talos configuration
- `docs` (Boolean) Whether to generate docs for the talos cluster
- `examples` (Boolean) Whether to generate examples for the talos cluster
- `kubernetes_version` (String) The version of kubernetes to use for the talos cluster
- `talos_version` (String) The version of talos machine config to use for the talos cluster

### Read-Only

- `id` (String) The ID of this resource.
- `machine_configuration` (String) The generated machine configuration for the talos cluster

<a id="nestedatt--machine_secrets"></a>
### Nested Schema for `machine_secrets`

Required:

- `certs` (Attributes) The certs for the talos cluster (see [below for nested schema](#nestedatt--machine_secrets--certs))
- `cluster` (Attributes) The cluster secrets (see [below for nested schema](#nestedatt--machine_secrets--cluster))
- `secrets` (Attributes) The secrets for the talos kubernetes cluster (see [below for nested schema](#nestedatt--machine_secrets--secrets))
- `trustdinfo` (Attributes) The trustd info for the talos cluster (see [below for nested schema](#nestedatt--machine_secrets--trustdinfo))

<a id="nestedatt--machine_secrets--certs"></a>
### Nested Schema for `machine_secrets.certs`

Required:

- `etcd` (Attributes) The etcd certs for the talos cluster (see [below for nested schema](#nestedatt--machine_secrets--certs--etcd))
- `k8s` (Attributes) The k8s certs for the talos cluster (see [below for nested schema](#nestedatt--machine_secrets--certs--k8s))
- `k8s_aggregator` (Attributes) The k8s aggregator certs for the talos cluster (see [below for nested schema](#nestedatt--machine_secrets--certs--k8s_aggregator))
- `k8s_serviceaccount` (Attributes) The k8s service account certs for the talos cluster (see [below for nested schema](#nestedatt--machine_secrets--certs--k8s_serviceaccount))
- `os` (Attributes) The os certs for the talos cluster (see [below for nested schema](#nestedatt--machine_secrets--certs--os))

<a id="nestedatt--machine_secrets--certs--etcd"></a>
### Nested Schema for `machine_secrets.certs.etcd`

Required:

- `cert` (String) certificate data
- `key` (String) key data


<a id="nestedatt--machine_secrets--certs--k8s"></a>
### Nested Schema for `machine_secrets.certs.k8s`

Required:

- `cert` (String) certificate data
- `key` (String) key data


<a id="nestedatt--machine_secrets--certs--k8s_aggregator"></a>
### Nested Schema for `machine_secrets.certs.k8s_aggregator`

Required:

- `cert` (String) certificate data
- `key` (String) key data


<a id="nestedatt--machine_secrets--certs--k8s_serviceaccount"></a>
### Nested Schema for `machine_secrets.certs.k8s_serviceaccount`

Required:

- `key` (String) key data


<a id="nestedatt--machine_secrets--certs--os"></a>
### Nested Schema for `machine_secrets.certs.os`

Required:

- `cert` (String) certificate data
- `key` (String) key data



<a id="nestedatt--machine_secrets--cluster"></a>
### Nested Schema for `machine_secrets.cluster`

Required:

- `id` (String) The cluster id
- `secret` (String) The cluster secret


<a id="nestedatt--machine_secrets--secrets"></a>
### Nested Schema for `machine_secrets.secrets`

Required:

- `bootstrap_token` (String) The bootstrap token for the talos kubernetes cluster
- `secretbox_encryption_secret` (String) The secretbox encryption secret for the talos kubernetes cluster

Optional:

- `aescbc_encryption_secret` (String) The aescbc encryption secret for the talos kubernetes cluster


<a id="nestedatt--machine_secrets--trustdinfo"></a>
### Nested Schema for `machine_secrets.trustdinfo`

Required:

- `token` (String) The trustd token for the talos cluster


